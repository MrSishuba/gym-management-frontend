<div #reportContent class="report-container">
    <div class="report-header">
      <img src="assets/images/logo.jpg" alt="Company Logo" class="logo">
      <div class="report-details">
        <h1 class="report-title">{{ year }} {{ ammendedFilter }} Audit Trail Report</h1>
        <p class="company-name">AVS Fitness</p>
        <p>Generated by: {{ userName }}</p>
        <p>Date Generated: {{ dateGenerated }}</p>
      </div>
    </div>
  
    <div class="summary-container">
      <mat-card class="summary-card">
        <mat-card-header>
          <mat-card-title>Total Transactions</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <div class="summary-data">{{ totalTransactions }}</div>
        </mat-card-content>
      </mat-card>
    </div>

    

<div class="charts">
<div style="position: relative; width: 100%; height: 400px; text-align:center; margin-bottom:60px">
    <h4>Audit Trail Transaction Type Distribution</h4>
    <canvas id="pieChart"></canvas>
  </div>

  <div style="position: relative; width: 100%; height: 400px; text-align:center; margin-bottom:60px">
    <h4>User Interaction Frequency by Day</h4>
    <canvas id="singleAxisChart" style="max-width: 600px; max-height: 400px;"></canvas>
  </div>
</div>

<table>
  <thead>
    <tr>
      <th>User Name</th>
      <th>Total Changes</th>
      <th>Transaction Types</th>
     
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let user of userActivityMap">
      <td>{{ user.userName }}</td>
      <td>{{ user.totalChanges }}</td>
      <td>
        <ul>
          <li *ngFor="let type of getTransactionTypes(user.transactionTypes)">
            {{ type.name }}: {{ type.count }}
          </li>
        </ul>
      </td>
  
    </tr>
  </tbody>
</table>
</div>
